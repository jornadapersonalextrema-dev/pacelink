{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Topbar.tsx"],"sourcesContent":["import React from 'react';\n\ntype TopbarProps = {\n  title: string;\n  showBack?: boolean;\n  onBack?: () => void;\n  rightSlot?: React.ReactNode;\n};\n\nexport const Topbar: React.FC<TopbarProps> = ({ title, showBack, onBack, rightSlot }) => {\n  return (\n    <div className=\"w-full bg-[#d1d1d1]\">\n      <div className=\"mx-auto max-w-2xl flex items-center justify-between px-4 py-3\">\n        <div className=\"flex items-center gap-3 min-w-0\">\n          {showBack ? (\n            <button\n              type=\"button\"\n              onClick={onBack}\n              aria-label=\"Voltar\"\n              className=\"text-white/90 hover:text-white\"\n            >\n              <span className=\"text-2xl leading-none\">‚Äπ</span>\n            </button>\n          ) : null}\n\n          <div className=\"text-white text-xl font-semibold truncate\">\n            {title}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {rightSlot ?? null}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Compatibilidade: permite `import Topbar from '...'`\nexport default Topbar;\n"],"names":[],"mappings":";;;;;;;;AASO,MAAM,SAAgC,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE;IAClF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;wBACZ,yBACC,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,cAAW;4BACX,WAAU;sCAEV,cAAA,8OAAC;gCAAK,WAAU;0CAAwB;;;;;;;;;;uEAExC;sCAEJ,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;8BAIL,8OAAC;oBAAI,WAAU;8BACZ,aAAa;;;;;;;;;;;;;;;;;AAKxB;uCAGe"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/lib/supabaseBrowser.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n    return createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACZ,OAAO,IAAA,iMAAmB;AAI9B"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/app/workouts/%5Bid%5D/edit/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { Topbar } from '../../../../components/Topbar';\nimport { createClient } from '../../../../lib/supabaseBrowser';\n\ntype WorkoutTypeUI = 'rodagem' | 'progressivo' | 'alternado';\ntype IntensityUI = 'leve' | 'moderado' | 'forte';\n\ntype Block = { distance_km: number; intensity: IntensityUI | string };\n\ntype WorkoutRow = {\n  id: string;\n  student_id: string;\n  trainer_id: string;\n  status: string | null;\n  title: string | null;\n  template_type: string | null;\n  include_warmup: boolean | null;\n  warmup_km: number | null;\n  include_cooldown: boolean | null;\n  cooldown_km: number | null;\n  blocks: any;\n  total_km: number | null;\n  share_slug: string | null;\n};\n\nconst WORKOUT_TYPE_LABEL: Record<WorkoutTypeUI, string> = {\n  rodagem: 'Rodagem',\n  progressivo: 'Progressivo',\n  alternado: 'Alternado',\n};\n\nconst INTENSITY_LABEL: Record<IntensityUI, string> = {\n  leve: 'Leve',\n  moderado: 'Moderado',\n  forte: 'Forte',\n};\n\nconst TEMPLATE_TYPE_CANDIDATES: Record<WorkoutTypeUI, string[]> = {\n  rodagem: ['rodagem', 'easy', 'easy_run', 'run'],\n  progressivo: ['progressivo', 'progressive', 'progressive_run'],\n  alternado: ['alternado', 'interval', 'intervals', 'alternating'],\n};\n\nfunction kmToNumber(val: string): number {\n  const n = Number(val.replace(',', '.'));\n  return Number.isFinite(n) ? n : NaN;\n}\n\nfunction clampKm(x: number, min = 0.5, max = 200): number {\n  if (!Number.isFinite(x)) return min;\n  return Math.min(max, Math.max(min, x));\n}\n\nfunction safeBlocks(val: any): Block[] {\n  if (!val) return [];\n  if (Array.isArray(val)) return val as Block[];\n  return [];\n}\n\nfunction randomSlug(prefix: string): string {\n  const rand = Math.random().toString(36).slice(2, 8);\n  const ts = Date.now().toString(36).slice(-6);\n  return `${prefix}-${ts}-${rand}`;\n}\n\nfunction slugify(text: string): string {\n  return text\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-+|-+$/g, '')\n    .slice(0, 60);\n}\n\nfunction normalizeTemplateType(db: string | null | undefined): WorkoutTypeUI {\n  const v = String(db ?? '').toLowerCase();\n  if (['progressivo', 'progressive'].includes(v)) return 'progressivo';\n  if (['alternado', 'interval', 'intervals'].includes(v)) return 'alternado';\n  return 'rodagem';\n}\n\nfunction normalizeIntensity(db: string | null | undefined): IntensityUI {\n  const v = String(db ?? '').toLowerCase();\n  if (['moderado', 'moderate'].includes(v)) return 'moderado';\n  if (['forte', 'hard'].includes(v)) return 'forte';\n  return 'leve';\n}\n\nexport default function Page() {\n  const supabase = useMemo(() => createClient(), []);\n  const router = useRouter();\n  const params = useParams();\n  const workoutId = String((params as any)?.id ?? '');\n\n  const [loading, setLoading] = useState(true);\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\n  const [workout, setWorkout] = useState<WorkoutRow | null>(null);\n\n  const [title, setTitle] = useState('');\n  const [workoutType, setWorkoutType] = useState<WorkoutTypeUI>('rodagem');\n\n  const [includeWarmup, setIncludeWarmup] = useState(false);\n  const [warmupKmRaw, setWarmupKmRaw] = useState('1');\n\n  const [blocks, setBlocks] = useState<Block[]>([]);\n  const [includeCooldown, setIncludeCooldown] = useState(false);\n  const [cooldownKmRaw, setCooldownKmRaw] = useState('1');\n\n  const [isSaving, setIsSaving] = useState(false);\n\n  const totalKm = useMemo(() => {\n    const w = includeWarmup ? clampKm(kmToNumber(warmupKmRaw)) : 0;\n    const c = includeCooldown ? clampKm(kmToNumber(cooldownKmRaw)) : 0;\n    const b = blocks.reduce((sum, blk) => sum + clampKm(Number(blk.distance_km), 0, 200), 0);\n    return Math.round((w + b + c) * 10) / 10;\n  }, [includeWarmup, warmupKmRaw, includeCooldown, cooldownKmRaw, blocks]);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    async function load() {\n      setLoading(true);\n      setErrorMsg(null);\n\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id ?? null;\n      if (!uid) {\n        if (!cancelled) {\n          setErrorMsg('Voc√™ precisa estar logado para editar o treino.');\n          setLoading(false);\n        }\n        return;\n      }\n\n      const { data, error } = await supabase\n        .from('workouts')\n        .select(\n          'id,student_id,trainer_id,status,title,template_type,include_warmup,warmup_km,include_cooldown,cooldown_km,blocks,total_km,share_slug'\n        )\n        .eq('id', workoutId)\n        .maybeSingle();\n\n      if (cancelled) return;\n\n      if (error) {\n        setErrorMsg(error.message);\n        setLoading(false);\n        return;\n      }\n      if (!data) {\n        setErrorMsg('Treino n√£o encontrado.');\n        setLoading(false);\n        return;\n      }\n\n      if ((data as any).trainer_id && (data as any).trainer_id !== uid) {\n        setErrorMsg('Voc√™ n√£o tem permiss√£o para editar este treino.');\n        setLoading(false);\n        return;\n      }\n\n      const row = data as WorkoutRow;\n      setWorkout(row);\n\n      setTitle(row.title ?? '');\n      setWorkoutType(normalizeTemplateType(row.template_type));\n      setIncludeWarmup(Boolean(row.include_warmup));\n      setWarmupKmRaw(String(row.warmup_km ?? 1));\n\n      const blk = safeBlocks(row.blocks).map((b) => ({\n        distance_km: Number(b.distance_km ?? 1),\n        intensity: normalizeIntensity(String(b.intensity)),\n      }));\n      setBlocks(blk.length ? blk : [{ distance_km: 5, intensity: 'leve' }]);\n\n      setIncludeCooldown(Boolean(row.include_cooldown));\n      setCooldownKmRaw(String(row.cooldown_km ?? 1));\n\n      setLoading(false);\n    }\n\n    void load();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [supabase, workoutId]);\n\n  function addBlock() {\n    setBlocks((prev) => [...prev, { distance_km: 1, intensity: 'leve' }]);\n  }\n\n  function removeBlock(index: number) {\n    setBlocks((prev) => prev.filter((_, i) => i !== index));\n  }\n\n  function updateBlock(index: number, patch: Partial<Block>) {\n    setBlocks((prev) => prev.map((b, i) => (i === index ? { ...b, ...patch } : b)));\n  }\n\n  async function handleSave() {\n    if (!workout) return;\n\n    setIsSaving(true);\n    setErrorMsg(null);\n\n    try {\n      const warmupKm = includeWarmup ? clampKm(kmToNumber(warmupKmRaw)) : null;\n      const cooldownKm = includeCooldown ? clampKm(kmToNumber(cooldownKmRaw)) : null;\n\n      const basePayload = {\n        title: title.trim() ? title.trim() : null,\n        include_warmup: includeWarmup,\n        warmup_km: warmupKm,\n        include_cooldown: includeCooldown,\n        cooldown_km: cooldownKm,\n        blocks,\n        total_km: totalKm,\n      };\n\n      const candidates = TEMPLATE_TYPE_CANDIDATES[workoutType] ?? [workoutType];\n      let lastError: any = null;\n\n      for (const template_type of candidates) {\n        const { error } = await supabase\n          .from('workouts')\n          .update({ ...basePayload, template_type })\n          .eq('id', workout.id);\n\n        if (!error) {\n          router.push(`/students/${workout.student_id}`);\n          return;\n        }\n        lastError = error;\n      }\n\n      throw lastError ?? new Error('Falha ao salvar altera√ß√µes.');\n    } catch (e: any) {\n      setErrorMsg(e?.message ?? 'Falha ao salvar altera√ß√µes.');\n    } finally {\n      setIsSaving(false);\n    }\n  }\n\n  async function handleShare() {\n    if (!workout) return;\n\n    setIsSaving(true);\n    setErrorMsg(null);\n\n    try {\n      const slug =\n        workout.share_slug ??\n        randomSlug(slugify(title || WORKOUT_TYPE_LABEL[workoutType]) || 'treino');\n\n      const { error } = await supabase\n        .from('workouts')\n        .update({ status: 'shared', share_slug: slug })\n        .eq('id', workout.id);\n\n      if (error) throw error;\n\n      const url = `${window.location.origin}/w/${slug}`;\n      try {\n        await navigator.clipboard.writeText(url);\n      } catch {\n        // ignore\n      }\n\n      router.push(`/students/${workout.student_id}`);\n    } catch (e: any) {\n      setErrorMsg(e?.message ?? 'Falha ao compartilhar.');\n    } finally {\n      setIsSaving(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#07150f] text-white\">\n      <Topbar title=\"Editar Treino\" showBack onBack={() => router.back()} />\n\n      <div className=\"max-w-2xl mx-auto p-4 pb-24 space-y-4\">\n        {loading ? (\n          <Card>Carregando‚Ä¶</Card>\n        ) : errorMsg ? (\n          <div className=\"rounded-xl border border-red-900/40 bg-red-950/30 p-3 text-red-200\">\n            {errorMsg}\n          </div>\n        ) : workout ? (\n          <>\n            <Card>\n              <div className=\"font-semibold mb-2\">Informa√ß√µes b√°sicas</div>\n              <Input value={title} onChange={setTitle} placeholder=\"Ex: Rodagem leve\" />\n              <div className=\"mt-2 text-sm text-white/70\">\n                Dist√¢ncia total estimada: {totalKm.toFixed(1)} km\n              </div>\n            </Card>\n\n            <Card>\n              <div className=\"font-semibold mb-3\">Tipo de Treino</div>\n              <div className=\"flex gap-2\">\n                {(['rodagem', 'progressivo', 'alternado'] as WorkoutTypeUI[]).map((t) => (\n                  <Toggle\n                    key={t}\n                    active={workoutType === t}\n                    onClick={() => setWorkoutType(t)}\n                    label={WORKOUT_TYPE_LABEL[t]}\n                  />\n                ))}\n              </div>\n            </Card>\n\n            <Card>\n              <div className=\"font-semibold mb-3\">Estrutura</div>\n\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-lg\">üî•</span>\n                  <div className=\"font-semibold\">Aquecimento</div>\n                </div>\n                <Switch checked={includeWarmup} onChange={setIncludeWarmup} />\n              </div>\n\n              {includeWarmup ? (\n                <div className=\"grid grid-cols-[1fr_auto_1fr] gap-3 items-end mb-4\">\n                  <div>\n                    <div className=\"text-xs tracking-widest text-white/60 mb-1\">DIST√ÇNCIA</div>\n                    <Input value={warmupKmRaw} onChange={setWarmupKmRaw} inputMode=\"decimal\" />\n                  </div>\n                  <div className=\"pb-2 text-white/60\">km</div>\n                  <div>\n                    <div className=\"text-xs tracking-widest text-white/60 mb-1\">RITMO</div>\n                    <div className=\"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-white/80\">\n                      Livre\n                    </div>\n                  </div>\n                </div>\n              ) : null}\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"font-semibold\">Blocos principais</div>\n                <Button onClick={addBlock} variant=\"ghost\">\n                  + Adicionar bloco\n                </Button>\n              </div>\n\n              <div className=\"mt-3 space-y-3\">\n                {blocks.map((blk, idx) => (\n                  <div key={idx} className=\"rounded-2xl border border-white/10 bg-white/5 p-3\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"text-sm font-semibold\">Bloco {idx + 1}</div>\n                      <button\n                        type=\"button\"\n                        onClick={() => removeBlock(idx)}\n                        className=\"text-red-300/90 hover:text-red-200\"\n                        aria-label=\"Remover bloco\"\n                      >\n                        üóëÔ∏è\n                      </button>\n                    </div>\n\n                    <div className=\"grid grid-cols-[1fr_auto_1fr] gap-3 items-end\">\n                      <div>\n                        <div className=\"text-xs tracking-widest text-white/60 mb-1\">DIST√ÇNCIA DO TRECHO</div>\n                        <Input\n                          value={String(blk.distance_km)}\n                          onChange={(v) => {\n                            const n = kmToNumber(v);\n                            updateBlock(idx, { distance_km: Number.isFinite(n) ? n : 0 });\n                          }}\n                          inputMode=\"decimal\"\n                        />\n                      </div>\n                      <div className=\"pb-2 text-white/60\">km</div>\n                      <div>\n                        <div className=\"text-xs tracking-widest text-white/60 mb-1\">INTENSIDADE</div>\n                        <div className=\"flex gap-2 flex-wrap\">\n                          {(['leve', 'moderado', 'forte'] as IntensityUI[]).map((it) => (\n                            <Toggle\n                              key={it}\n                              active={String(blk.intensity) === it}\n                              onClick={() => updateBlock(idx, { intensity: it })}\n                              label={INTENSITY_LABEL[it]}\n                            />\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex items-center justify-between mt-5 mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-lg\">üßä</span>\n                  <div className=\"font-semibold\">Desaquecimento</div>\n                </div>\n                <Switch checked={includeCooldown} onChange={setIncludeCooldown} />\n              </div>\n\n              {includeCooldown ? (\n                <div className=\"grid grid-cols-[1fr_auto_1fr] gap-3 items-end\">\n                  <div>\n                    <div className=\"text-xs tracking-widest text-white/60 mb-1\">DIST√ÇNCIA</div>\n                    <Input value={cooldownKmRaw} onChange={setCooldownKmRaw} inputMode=\"decimal\" />\n                  </div>\n                  <div className=\"pb-2 text-white/60\">km</div>\n                  <div>\n                    <div className=\"text-xs tracking-widest text-white/60 mb-1\">RITMO</div>\n                    <div className=\"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-white/80\">\n                      Livre\n                    </div>\n                  </div>\n                </div>\n              ) : null}\n            </Card>\n\n            <div className=\"fixed bottom-0 left-0 right-0 bg-[#07150f]/80 backdrop-blur border-t border-white/10\">\n              <div className=\"max-w-2xl mx-auto p-4 flex gap-3\">\n                <Button onClick={handleSave} disabled={isSaving} variant=\"primary\" className=\"flex-1\">\n                  {isSaving ? 'Salvando‚Ä¶' : 'Salvar Altera√ß√µes'}\n                </Button>\n                <Button onClick={handleShare} disabled={isSaving} variant=\"secondary\" className=\"flex-1\">\n                  {isSaving ? 'Gerando link‚Ä¶' : 'Gerar/Copiar link do aluno'}\n                </Button>\n              </div>\n            </div>\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction Card({ children }: { children: React.ReactNode }) {\n  return <div className=\"rounded-3xl border border-white/10 bg-white/5 p-4 shadow-sm\">{children}</div>;\n}\n\nfunction Button({\n  children,\n  onClick,\n  disabled,\n  className = '',\n  variant = 'primary',\n}: {\n  children: React.ReactNode;\n  onClick?: () => void;\n  disabled?: boolean;\n  className?: string;\n  variant?: 'primary' | 'secondary' | 'ghost';\n}) {\n  const base = 'rounded-full px-4 py-3 font-semibold transition disabled:opacity-60 disabled:cursor-not-allowed';\n  const styles =\n    variant === 'primary'\n      ? 'bg-[#2CFF88] text-black hover:opacity-90'\n      : variant === 'secondary'\n      ? 'bg-white/10 text-white hover:bg-white/15'\n      : 'bg-transparent text-white/80 hover:text-white';\n  return (\n    <button type=\"button\" onClick={onClick} disabled={disabled} className={`${base} ${styles} ${className}`}>\n      {children}\n    </button>\n  );\n}\n\nfunction Toggle({ label, active, onClick }: { label: string; active: boolean; onClick: () => void }) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={\n        'px-4 py-2 rounded-full border transition text-sm ' +\n        (active\n          ? 'bg-[#2CFF88] border-[#2CFF88] text-black'\n          : 'bg-transparent border-white/15 text-white/85 hover:border-white/25')\n      }\n    >\n      {label}\n    </button>\n  );\n}\n\nfunction Input({\n  value,\n  onChange,\n  placeholder,\n  inputMode,\n}: {\n  value: string;\n  onChange: (v: string) => void;\n  placeholder?: string;\n  inputMode?: React.HTMLAttributes<HTMLInputElement>['inputMode'];\n}) {\n  return (\n    <input\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n      inputMode={inputMode}\n      className=\"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder:text-white/35 outline-none focus:border-white/25\"\n    />\n  );\n}\n\nfunction Switch({ checked, onChange }: { checked: boolean; onChange: (v: boolean) => void }) {\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onChange(!checked)}\n      className={'w-12 h-7 rounded-full border border-white/10 transition relative ' + (checked ? 'bg-[#2CFF88]' : 'bg-white/10')}\n      aria-label={checked ? 'Desativar' : 'Ativar'}\n    >\n      <span\n        className={'absolute top-1 left-1 w-5 h-5 rounded-full bg-black/70 transition ' + (checked ? 'translate-x-5' : 'translate-x-0')}\n      />\n    </button>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}