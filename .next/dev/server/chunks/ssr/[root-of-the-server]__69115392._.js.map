{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Topbar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface TopbarProps {\n  title: string;\n  showBack?: boolean;\n  rightAction?: React.ReactNode;\n}\n\nexport const Topbar: React.FC<TopbarProps> = ({ title, showBack = false, rightAction }) => {\n  const router = useRouter();\n\n  return (\n    <header className=\"sticky top-0 z-50 flex items-center justify-between px-4 py-4 bg-white/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-black/5 dark:border-white/5 h-16\">\n      <div className=\"flex items-center min-w-[40px]\">\n        {showBack && (\n          <button\n            onClick={() => router.back()}\n            className=\"p-2 -ml-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-slate-900 dark:text-white transition-colors\"\n          >\n            <span className=\"material-symbols-outlined\">arrow_back_ios_new</span>\n          </button>\n        )}\n      </div>\n\n      <h1 className=\"text-lg font-bold tracking-tight text-center flex-1 truncate px-2\">\n        {title}\n      </h1>\n\n      <div className=\"flex items-center justify-end min-w-[40px]\">{rightAction}</div>\n    </header>\n  );\n};\n\nexport default Topbar;\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAWO,MAAM,SAAgC,CAAC,EAAE,KAAK,EAAE,WAAW,KAAK,EAAE,WAAW,EAAE;IACpF,MAAM,SAAS,IAAA,+IAAS;IAExB,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;0BACZ,0BACC,8OAAC;oBACC,SAAS,IAAM,OAAO,IAAI;oBAC1B,WAAU;8BAEV,cAAA,8OAAC;wBAAK,WAAU;kCAA4B;;;;;;;;;;;;;;;;0BAKlD,8OAAC;gBAAG,WAAU;0BACX;;;;;;0BAGH,8OAAC;gBAAI,WAAU;0BAA8C;;;;;;;;;;;;AAGnE;uCAEe"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Card.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport const Card: React.FC<CardProps> = ({ children, className = '', onClick }) => {\n  return (\n    <div \n      onClick={onClick}\n      className={`bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-white/5 p-4 shadow-sm transition-all ${onClick ? 'cursor-pointer hover:border-primary/50 active:scale-[0.99]' : ''} ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AASO,MAAM,OAA4B,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE;IAC7E,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC,mHAAmH,EAAE,UAAU,+DAA+D,GAAG,CAAC,EAAE,WAAW;kBAE1N;;;;;;AAGP"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Button.tsx"],"sourcesContent":["\n'use client';\n\nimport React from 'react';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  icon?: string;\n  fullWidth?: boolean;\n}\n\nexport const Button: React.FC<ButtonProps> = ({ \n  children, \n  variant = 'primary', \n  size = 'lg', \n  icon, \n  fullWidth = true,\n  className = '',\n  ...props \n}) => {\n  const baseStyles = \"flex items-center justify-center gap-2 rounded-full font-bold transition-all active:scale-[0.98]\";\n  \n  const variants = {\n    primary: \"bg-primary text-background-dark shadow-lg shadow-primary/25 hover:bg-[#25c464]\",\n    secondary: \"bg-white dark:bg-surface-dark border border-slate-200 dark:border-white/10 text-slate-900 dark:text-white\",\n    ghost: \"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-black/5 dark:hover:bg-white/5\",\n    danger: \"bg-red-500 text-white shadow-lg shadow-red-500/20\"\n  };\n\n  const sizes = {\n    sm: \"h-9 px-4 text-xs\",\n    md: \"h-11 px-6 text-sm\",\n    lg: \"h-14 px-8 text-lg\",\n    xl: \"h-16 px-10 text-xl\"\n  };\n\n  const widthClass = fullWidth ? 'w-full' : '';\n\n  return (\n    <button \n      className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${widthClass} ${className}`}\n      {...props}\n    >\n      {icon && <span className=\"material-symbols-outlined\">{icon}</span>}\n      {children}\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;;AAWO,MAAM,SAAgC,CAAC,EAC5C,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,IAAI,EACJ,YAAY,IAAI,EAChB,YAAY,EAAE,EACd,GAAG,OACJ;IACC,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,OAAO;QACP,QAAQ;IACV;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,aAAa,YAAY,WAAW;IAE1C,qBACE,8OAAC;QACC,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,WAAW;QACxF,GAAG,KAAK;;YAER,sBAAQ,8OAAC;gBAAK,WAAU;0BAA6B;;;;;;YACrD;;;;;;;AAGP"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/lib/supabaseBrowser.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n    return createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACZ,OAAO,IAAA,iMAAmB;AAI9B"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/app/students/%5Bid%5D/workouts/new/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useParams } from 'next/navigation';\n\nimport { Topbar } from '../../../../../components/Topbar';\nimport { Card } from '../../../../../components/Card';\nimport { Button } from '../../../../../components/Button';\n\nimport { createClient } from '../../../../../lib/supabaseBrowser';\n\ntype WorkoutTypeUI = 'rodagem' | 'progressivo' | 'alternado';\ntype IntensityUI = 'leve' | 'moderado' | 'forte';\n\ntype StudentRow = {\n  id: string;\n  name: string;\n  email: string | null;\n  p1k_sec_per_km: number | null;\n};\n\ntype BlockUI = {\n  id: string;\n  distanceKm: string; // string para não travar edição\n  intensity: IntensityUI;\n};\n\nfunction makeId() {\n  return Math.random().toString(36).slice(2, 10);\n}\n\nfunction parseKm(input: string): number {\n  if (!input) return 0;\n  const n = Number(String(input).replace(',', '.'));\n  return Number.isFinite(n) ? n : 0;\n}\n\nfunction formatKm(n: number): string {\n  const one = Math.round(n * 10) / 10;\n  return one % 1 === 0 ? String(one.toFixed(0)) : String(one.toFixed(1));\n}\n\nfunction paceFromSecPerKm(sec: number | null | undefined): string {\n  if (!sec || sec <= 0) return '—';\n  const m = Math.floor(sec / 60);\n  const s = Math.round(sec % 60);\n  return `${m}:${String(s).padStart(2, '0')}`;\n}\n\nconst TYPE_LABEL: Record<WorkoutTypeUI, string> = {\n  rodagem: 'Rodagem',\n  progressivo: 'Progressivo',\n  alternado: 'Alternado',\n};\n\n// Alguns projetos antigos podem ter CHECK com valores em inglês.\n// Tentamos valores PT e, se cair no CHECK, tentamos alternativas.\nconst TEMPLATE_TYPE_CANDIDATES: Record<WorkoutTypeUI, string[]> = {\n  rodagem: ['rodagem', 'easy', 'easy_run', 'run'],\n  progressivo: ['progressivo', 'progressive', 'progressive_run'],\n  alternado: ['alternado', 'interval', 'intervals', 'alternating'],\n};\n\nfunction slugify(text: string): string {\n  return text\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-+|-+$/g, '')\n    .slice(0, 60);\n}\n\nexport default function Page() {\n  const params = useParams();\n  const studentId = (params?.id as string) || '';\n\n  const supabase = React.useMemo(() => createClient(), []);\n\n  const [student, setStudent] = React.useState<StudentRow | null>(null);\n  const [loadingStudent, setLoadingStudent] = React.useState<boolean>(true);\n\n  const [title, setTitle] = React.useState<string>(''); // NÃO preenche com tipo\n  const [type, setType] = React.useState<WorkoutTypeUI>('rodagem');\n\n  const [includeWarmup, setIncludeWarmup] = React.useState<boolean>(true);\n  const [warmupKm, setWarmupKm] = React.useState<string>('2');\n\n  const [includeCooldown, setIncludeCooldown] = React.useState<boolean>(true);\n  const [cooldownKm, setCooldownKm] = React.useState<string>('1');\n\n  const [blocks, setBlocks] = React.useState<BlockUI[]>([\n    { id: makeId(), distanceKm: '5', intensity: 'moderado' },\n  ]);\n\n  const [errorMsg, setErrorMsg] = React.useState<string>('');\n  const [saving, setSaving] = React.useState<boolean>(false);\n\n  const totalKm = React.useMemo(() => {\n    const warm = includeWarmup ? parseKm(warmupKm) : 0;\n    const cool = includeCooldown ? parseKm(cooldownKm) : 0;\n    const main = blocks.reduce((acc, b) => acc + parseKm(b.distanceKm), 0);\n    const total = warm + main + cool;\n    return Math.max(0, Math.round(total * 10) / 10);\n  }, [includeWarmup, warmupKm, includeCooldown, cooldownKm, blocks]);\n\n  React.useEffect(() => {\n    let alive = true;\n\n    async function loadStudent() {\n      try {\n        setLoadingStudent(true);\n        setErrorMsg('');\n        if (!studentId) return;\n\n        const { data, error } = await supabase\n          .from('students')\n          .select('id,name,email,p1k_sec_per_km')\n          .eq('id', studentId)\n          .maybeSingle();\n\n        if (!alive) return;\n\n        if (error) {\n          setStudent(null);\n          setErrorMsg(error.message || 'Erro ao carregar aluno.');\n          return;\n        }\n\n        if (!data) {\n          setStudent(null);\n          setErrorMsg('Aluno não encontrado.');\n          return;\n        }\n\n        setStudent(data as StudentRow);\n      } catch (e: any) {\n        if (!alive) return;\n        setStudent(null);\n        setErrorMsg(e?.message || 'Erro ao carregar aluno.');\n      } finally {\n        if (!alive) return;\n        setLoadingStudent(false);\n      }\n    }\n\n    loadStudent();\n\n    return () => {\n      alive = false;\n    };\n  }, [studentId, supabase]);\n\n  function addBlock() {\n    setBlocks((prev) => [...prev, { id: makeId(), distanceKm: '1', intensity: 'leve' }]);\n  }\n\n  function removeBlock(id: string) {\n    setBlocks((prev) => (prev.length <= 1 ? prev : prev.filter((b) => b.id !== id)));\n  }\n\n  function updateBlock(id: string, patch: Partial<BlockUI>) {\n    setBlocks((prev) => prev.map((b) => (b.id === id ? { ...b, ...patch } : b)));\n  }\n\n  async function ensureTrainerId(): Promise<string> {\n    const { data, error } = await supabase.auth.getSession();\n    if (error) throw error;\n    const userId = data?.session?.user?.id;\n    if (!userId) {\n      throw new Error('Você precisa estar logado como treinador para criar treinos.');\n    }\n    return userId;\n  }\n\n  function normalizedWarmup(): number {\n    if (!includeWarmup) return 0;\n    const n = parseKm(warmupKm);\n    return n > 0 ? n : 1;\n  }\n\n  function normalizedCooldown(): number {\n    if (!includeCooldown) return 0;\n    const n = parseKm(cooldownKm);\n    return n > 0 ? n : 1;\n  }\n\n  function buildBlocksPayload() {\n    return blocks.map((b) => ({\n      distance_km: Math.max(0, parseKm(b.distanceKm) || 0),\n      intensity: b.intensity,\n    }));\n  }\n\n  async function insertWorkout(status: 'draft' | 'shared') {\n    const trainerId = await ensureTrainerId();\n\n    const payloadBase: any = {\n      student_id: studentId,\n      trainer_id: trainerId,\n      status,\n      include_warmup: includeWarmup,\n      warmup_km: normalizedWarmup(),\n      include_cooldown: includeCooldown,\n      cooldown_km: normalizedCooldown(),\n      template_params: {\n        title: title?.trim() || null,\n        ui_type: type,\n      },\n      blocks: buildBlocksPayload(),\n      total_km: totalKm,\n      version: 1,\n    };\n\n    if (status === 'shared') {\n      const baseTitle = title?.trim() || TYPE_LABEL[type];\n      payloadBase.share_slug = `${slugify(baseTitle) || 'treino'}-${Date.now().toString(36)}`;\n    }\n\n    const candidates = TEMPLATE_TYPE_CANDIDATES[type] || [type];\n    let lastError: any = null;\n\n    for (const cand of candidates) {\n      const { data, error } = await supabase\n        .from('workouts')\n        .insert({ ...payloadBase, template_type: cand })\n        .select('id, share_slug')\n        .maybeSingle();\n\n      if (!error) return data;\n\n      lastError = error;\n      const msg = String(error?.message || '');\n      const details = String((error as any)?.details || '');\n      if (!(details + msg).includes('workouts_template_type_check')) break;\n    }\n\n    throw lastError || new Error('Erro ao salvar treino.');\n  }\n\n  async function handleSaveDraft() {\n    try {\n      setSaving(true);\n      setErrorMsg('');\n      await insertWorkout('draft');\n      setErrorMsg('Rascunho salvo com sucesso.');\n      setTimeout(() => setErrorMsg(''), 2500);\n    } catch (e: any) {\n      setErrorMsg(e?.message || 'Erro ao salvar rascunho.');\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleShare() {\n    try {\n      setSaving(true);\n      setErrorMsg('');\n\n      const saved = await insertWorkout('shared');\n      const slug = saved?.share_slug;\n\n      if (!slug) {\n        setErrorMsg('Treino salvo, mas não foi possível gerar o link.');\n        return;\n      }\n\n      const url = `${window.location.origin}/w/${slug}`;\n\n      try {\n        await navigator.clipboard.writeText(url);\n      } catch {}\n\n      window.open(url, '_blank', 'noopener,noreferrer');\n      setErrorMsg('Link gerado e copiado.');\n      setTimeout(() => setErrorMsg(''), 2500);\n    } catch (e: any) {\n      setErrorMsg(e?.message || 'Erro ao compartilhar.');\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-b from-[#0b1f16] to-[#06120d] text-white\">\n      <Topbar title=\"Criar Treino\" showBack />\n\n      <div className=\"mx-auto w-full max-w-[520px] px-4 pb-28 pt-4\">\n        {errorMsg ? (\n          <div className=\"mb-4 rounded-xl border border-red-900/40 bg-red-950/40 px-4 py-3 text-sm text-red-200\">\n            {errorMsg}\n          </div>\n        ) : null}\n\n        <Card className=\"mb-4\">\n          <div className=\"text-xs tracking-widest text-white/60\">ALUNO</div>\n          <div className=\"mt-1 text-lg font-semibold\">\n            {loadingStudent ? 'Carregando...' : student?.name || '—'}\n          </div>\n          <div className=\"mt-1 text-sm text-white/70\">\n            Ritmo P1K: {paceFromSecPerKm(student?.p1k_sec_per_km)} min/km\n          </div>\n        </Card>\n\n        <Card className=\"mb-4\">\n          <div className=\"text-base font-semibold\">Título do treino</div>\n          <input\n            className=\"mt-3 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-[#2ef57f]/30\"\n            placeholder=\"Ex: Rodagem leve\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n          <div className=\"mt-2 text-sm text-white/60\">\n            Distância total estimada: {formatKm(totalKm)} km\n          </div>\n        </Card>\n\n        <Card className=\"mb-4\">\n          <div className=\"text-base font-semibold\">Tipo de Treino</div>\n          <div className=\"mt-3 flex gap-2\">\n            {(['rodagem', 'progressivo', 'alternado'] as WorkoutTypeUI[]).map((t) => (\n              <button\n                key={t}\n                type=\"button\"\n                className={[\n                  'flex-1 rounded-full border px-3 py-2 text-sm font-semibold transition',\n                  type === t\n                    ? 'border-[#2ef57f]/40 bg-[#2ef57f] text-[#062012]'\n                    : 'border-white/15 bg-white/0 text-white/80 hover:bg-white/5',\n                ].join(' ')}\n                onClick={() => setType(t)}\n              >\n                {TYPE_LABEL[t]}\n              </button>\n            ))}\n          </div>\n        </Card>\n\n        <Card className=\"mb-4\">\n          <div className=\"text-base font-semibold\">Estrutura</div>\n\n          <div className=\"mt-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"material-symbols-outlined text-lg\" aria-hidden>\n                local_fire_department\n              </span>\n              <span className=\"font-semibold\">Aquecimento</span>\n            </div>\n            <button\n              type=\"button\"\n              className={[\n                'h-7 w-12 rounded-full border transition',\n                includeWarmup ? 'border-[#2ef57f]/40 bg-[#2ef57f]' : 'border-white/15 bg-white/5',\n              ].join(' ')}\n              onClick={() => setIncludeWarmup((v) => !v)}\n              aria-label=\"Ativar aquecimento\"\n            >\n              <span\n                className={[\n                  'block h-6 w-6 translate-x-0 rounded-full bg-[#0b1f16] transition',\n                  includeWarmup ? 'translate-x-5' : 'translate-x-0',\n                ].join(' ')}\n              />\n            </button>\n          </div>\n\n          <div className=\"mt-3 grid grid-cols-3 gap-3\">\n            <div className=\"col-span-2\">\n              <div className=\"text-xs tracking-widest text-white/60\">DISTÂNCIA</div>\n              <div className=\"mt-1 flex items-center gap-2\">\n                <input\n                  inputMode=\"decimal\"\n                  className=\"w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#2ef57f]/30 disabled:opacity-60\"\n                  value={warmupKm}\n                  onChange={(e) => setWarmupKm(e.target.value)}\n                  disabled={!includeWarmup}\n                />\n                <span className=\"text-sm text-white/70\">km</span>\n              </div>\n            </div>\n            <div>\n              <div className=\"text-xs tracking-widest text-white/60\">RITMO</div>\n              <div className=\"mt-1 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-center text-sm text-white/80\">\n                Livre\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-6\">\n            <div className=\"text-sm font-semibold\">Blocos Principais</div>\n\n            <div className=\"mt-3 space-y-3\">\n              {blocks.map((b, idx) => (\n                <div key={b.id} className=\"rounded-2xl border border-white/10 bg-white/5 p-4\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"text-xs tracking-widest text-white/60\">BLOCO {idx + 1}</div>\n                    <button\n                      type=\"button\"\n                      className=\"rounded-lg border border-white/10 bg-white/0 p-2 text-white/70 hover:bg-white/5\"\n                      onClick={() => removeBlock(b.id)}\n                      aria-label=\"Remover bloco\"\n                      title=\"Remover bloco\"\n                    >\n                      <span className=\"material-symbols-outlined text-lg\" aria-hidden>\n                        delete\n                      </span>\n                    </button>\n                  </div>\n\n                  <div className=\"mt-3 grid grid-cols-3 gap-3\">\n                    <div className=\"col-span-2\">\n                      <div className=\"text-xs tracking-widest text-white/60\">DISTÂNCIA DO TRECHO</div>\n                      <div className=\"mt-1 flex items-center gap-2\">\n                        <input\n                          inputMode=\"decimal\"\n                          className=\"w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#2ef57f]/30\"\n                          value={b.distanceKm}\n                          onChange={(e) => updateBlock(b.id, { distanceKm: e.target.value })}\n                        />\n                        <span className=\"text-sm text-white/70\">km</span>\n                      </div>\n                    </div>\n\n                    <div className=\"col-span-3\">\n                      <div className=\"text-xs tracking-widest text-white/60\">INTENSIDADE</div>\n                      <div className=\"mt-2 flex flex-wrap gap-2\">\n                        {(['leve', 'moderado', 'forte'] as IntensityUI[]).map((it) => (\n                          <button\n                            key={it}\n                            type=\"button\"\n                            className={[\n                              'min-w-[92px] flex-1 rounded-full border px-3 py-2 text-sm font-semibold transition',\n                              b.intensity === it\n                                ? 'border-[#2ef57f]/40 bg-[#2ef57f] text-[#062012]'\n                                : 'border-white/15 bg-white/0 text-white/80 hover:bg-white/5',\n                            ].join(' ')}\n                            onClick={() => updateBlock(b.id, { intensity: it })}\n                          >\n                            {it === 'leve' ? 'Leve' : it === 'moderado' ? 'Moderado' : 'Forte'}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"mt-3\">\n              <Button variant=\"secondary\" fullWidth icon=\"add\" onClick={addBlock}>\n                Adicionar bloco\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"mt-7 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"material-symbols-outlined text-lg\" aria-hidden>\n                ac_unit\n              </span>\n              <span className=\"font-semibold\">Desaquecimento</span>\n            </div>\n            <button\n              type=\"button\"\n              className={[\n                'h-7 w-12 rounded-full border transition',\n                includeCooldown ? 'border-[#2ef57f]/40 bg-[#2ef57f]' : 'border-white/15 bg-white/5',\n              ].join(' ')}\n              onClick={() => setIncludeCooldown((v) => !v)}\n              aria-label=\"Ativar desaquecimento\"\n            >\n              <span\n                className={[\n                  'block h-6 w-6 translate-x-0 rounded-full bg-[#0b1f16] transition',\n                  includeCooldown ? 'translate-x-5' : 'translate-x-0',\n                ].join(' ')}\n              />\n            </button>\n          </div>\n\n          <div className=\"mt-3 grid grid-cols-3 gap-3\">\n            <div className=\"col-span-2\">\n              <div className=\"text-xs tracking-widest text-white/60\">DISTÂNCIA</div>\n              <div className=\"mt-1 flex items-center gap-2\">\n                <input\n                  inputMode=\"decimal\"\n                  className=\"w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#2ef57f]/30 disabled:opacity-60\"\n                  value={cooldownKm}\n                  onChange={(e) => setCooldownKm(e.target.value)}\n                  disabled={!includeCooldown}\n                />\n                <span className=\"text-sm text-white/70\">km</span>\n              </div>\n            </div>\n            <div>\n              <div className=\"text-xs tracking-widest text-white/60\">RITMO</div>\n              <div className=\"mt-1 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-center text-sm text-white/80\">\n                Livre\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      <div className=\"fixed inset-x-0 bottom-0 bg-gradient-to-t from-[#06120d] via-[#06120d]/90 to-transparent px-4 pb-5 pt-3\">\n        <div className=\"mx-auto flex w-full max-w-[520px] gap-3\">\n          <Button variant=\"secondary\" fullWidth onClick={handleSaveDraft} disabled={saving || loadingStudent}>\n            {saving ? 'Salvando...' : 'Salvar Rascunho'}\n          </Button>\n          <Button variant=\"primary\" fullWidth onClick={handleShare} disabled={saving || loadingStudent}>\n            {saving ? 'Gerando...' : 'Compartilhar'}\n          </Button>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}