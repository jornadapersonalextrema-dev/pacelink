{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Topbar.tsx"],"sourcesContent":["import React from 'react';\n\ntype TopbarProps = {\n  title: string;\n  showBack?: boolean;\n  onBack?: () => void;\n  rightSlot?: React.ReactNode;\n};\n\nexport const Topbar: React.FC<TopbarProps> = ({ title, showBack, onBack, rightSlot }) => {\n  return (\n    <div className=\"w-full bg-[#d1d1d1]\">\n      <div className=\"mx-auto max-w-2xl flex items-center justify-between px-4 py-3\">\n        <div className=\"flex items-center gap-3 min-w-0\">\n          {showBack ? (\n            <button\n              type=\"button\"\n              onClick={onBack}\n              aria-label=\"Voltar\"\n              className=\"text-white/90 hover:text-white\"\n            >\n              <span className=\"text-2xl leading-none\">‚Äπ</span>\n            </button>\n          ) : null}\n\n          <div className=\"text-white text-xl font-semibold truncate\">\n            {title}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {rightSlot ?? null}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Compatibilidade: permite `import Topbar from '...'`\nexport default Topbar;\n"],"names":[],"mappings":";;;;;;;;AASO,MAAM,SAAgC,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE;IAClF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;wBACZ,yBACC,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,cAAW;4BACX,WAAU;sCAEV,cAAA,8OAAC;gCAAK,WAAU;0CAAwB;;;;;;;;;;uEAExC;sCAEJ,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;8BAIL,8OAAC;oBAAI,WAAU;8BACZ,aAAa;;;;;;;;;;;;;;;;;AAKxB;uCAGe"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/lib/supabaseBrowser.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n    return createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACZ,OAAO,IAAA,iMAAmB;AAI9B"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/app/w/%5Bslug%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { Topbar } from '../../../components/Topbar';\nimport { createClient } from '../../../lib/supabaseBrowser';\n\ntype IntensityUI = 'leve' | 'moderado' | 'forte';\n\ntype Block = {\n  distance_km: number;\n  intensity: IntensityUI | string;\n};\n\ntype WorkoutRow = {\n  id: string;\n  title: string | null;\n  status: string | null;\n  template_type: string | null;\n  include_warmup: boolean | null;\n  warmup_km: number | null;\n  include_cooldown: boolean | null;\n  cooldown_km: number | null;\n  blocks: any;\n  total_km: number | null;\n  created_at: string | null;\n  share_slug: string | null;\n};\n\nconst WORKOUT_TYPE_LABEL: Record<string, string> = {\n  rodagem: 'Rodagem',\n  easy: 'Rodagem',\n  easy_run: 'Rodagem',\n  progressivo: 'Progressivo',\n  progressive: 'Progressivo',\n  alternado: 'Alternado',\n  interval: 'Alternado',\n};\n\nconst INTENSITY_LABEL: Record<string, string> = {\n  leve: 'Leve',\n  easy: 'Leve',\n  moderado: 'Moderado',\n  moderate: 'Moderado',\n  forte: 'Forte',\n  hard: 'Forte',\n};\n\nfunction safeBlocks(val: any): Block[] {\n  if (!val) return [];\n  return Array.isArray(val) ? (val as Block[]) : [];\n}\n\nfunction formatKm(x: number | null | undefined): string {\n  if (x == null || !Number.isFinite(x)) return '‚Äî';\n  return (Math.round(x * 10) / 10).toFixed(1).replace('.0', '');\n}\n\nexport default function Page() {\n  const supabase = useMemo(() => createClient(), []);\n  const router = useRouter();\n  const params = useParams();\n  const slug = String((params as any)?.slug ?? '');\n\n  const [loading, setLoading] = useState(true);\n  const [workout, setWorkout] = useState<WorkoutRow | null>(null);\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    async function load() {\n      setLoading(true);\n      setErrorMsg(null);\n\n      if (!slug) {\n        setErrorMsg('Link inv√°lido.');\n        setLoading(false);\n        return;\n      }\n\n      const { data, error } = await supabase\n        .from('workouts')\n        .select(\n          'id,title,status,template_type,include_warmup,warmup_km,include_cooldown,cooldown_km,blocks,total_km,created_at,share_slug'\n        )\n        .eq('share_slug', slug)\n        .limit(1)\n        .maybeSingle();\n\n      if (cancelled) return;\n\n      if (error) {\n        setErrorMsg(error.message);\n        setWorkout(null);\n        setLoading(false);\n        return;\n      }\n\n      if (!data) {\n        setErrorMsg('Treino n√£o encontrado (ou link expirado).');\n        setWorkout(null);\n        setLoading(false);\n        return;\n      }\n\n      setWorkout(data as WorkoutRow);\n      setLoading(false);\n    }\n\n    void load();\n    return () => {\n      cancelled = true;\n    };\n  }, [supabase, slug]);\n\n  const typeLabel =\n    workout?.template_type ? (WORKOUT_TYPE_LABEL[workout.template_type] ?? workout.template_type) : 'Treino';\n\n  const blocks = safeBlocks(workout?.blocks);\n\n  return (\n    <div className=\"min-h-screen bg-[#07150f] text-white\">\n      <Topbar title=\"Treino do Aluno\" showBack onBack={() => router.back()} />\n\n      <div className=\"max-w-2xl mx-auto p-4 space-y-4\">\n        {loading ? (\n          <Card>Carregando‚Ä¶</Card>\n        ) : errorMsg ? (\n          <div className=\"rounded-xl border border-red-900/40 bg-red-950/30 p-3 text-red-200\">\n            {errorMsg}\n          </div>\n        ) : workout ? (\n          <>\n            <Card>\n              <div className=\"text-xs tracking-widest text-white/60\">TREINO</div>\n              <div className=\"text-xl font-semibold\">{workout.title?.trim() ? workout.title : typeLabel}</div>\n              <div className=\"mt-1 text-sm text-white/70\">Dist√¢ncia total: {formatKm(workout.total_km)} km</div>\n            </Card>\n\n            <Card>\n              <div className=\"font-semibold mb-2\">Estrutura</div>\n\n              {workout.include_warmup ? (\n                <div className=\"rounded-2xl border border-white/10 bg-white/5 p-3 mb-3\">\n                  <div className=\"font-semibold flex items-center gap-2\">\n                    <span>üî•</span> Aquecimento\n                  </div>\n                  <div className=\"text-sm text-white/80 mt-1\">\n                    Dist√¢ncia: {formatKm(workout.warmup_km)} km ‚Ä¢ Ritmo: Livre\n                  </div>\n                </div>\n              ) : null}\n\n              <div className=\"font-semibold mb-2\">Blocos principais</div>\n\n              {blocks.length ? (\n                <div className=\"space-y-3\">\n                  {blocks.map((b, i) => (\n                    <div key={i} className=\"rounded-2xl border border-white/10 bg-white/5 p-3\">\n                      <div className=\"text-sm font-semibold mb-1\">Bloco {i + 1}</div>\n                      <div className=\"text-sm text-white/85\">\n                        Dist√¢ncia: {formatKm(Number(b.distance_km))} km ‚Ä¢ Intensidade:{' '}\n                        {INTENSITY_LABEL[String(b.intensity)] ?? String(b.intensity)}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-sm text-white/70\">Nenhum bloco cadastrado.</div>\n              )}\n\n              {workout.include_cooldown ? (\n                <div className=\"rounded-2xl border border-white/10 bg-white/5 p-3 mt-3\">\n                  <div className=\"font-semibold flex items-center gap-2\">\n                    <span>üßä</span> Desaquecimento\n                  </div>\n                  <div className=\"text-sm text-white/80 mt-1\">\n                    Dist√¢ncia: {formatKm(workout.cooldown_km)} km ‚Ä¢ Ritmo: Livre\n                  </div>\n                </div>\n              ) : null}\n            </Card>\n\n            <Card>\n              <Button onClick={() => router.back()} variant=\"secondary\" className=\"w-full\">\n                Voltar\n              </Button>\n            </Card>\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction Card({ children }: { children: React.ReactNode }) {\n  return <div className=\"rounded-3xl border border-white/10 bg-white/5 p-4 shadow-sm\">{children}</div>;\n}\n\nfunction Button({\n  children,\n  onClick,\n  className = '',\n  variant = 'primary',\n}: {\n  children: React.ReactNode;\n  onClick?: () => void;\n  className?: string;\n  variant?: 'primary' | 'secondary';\n}) {\n  const base = 'rounded-full px-4 py-3 font-semibold transition';\n  const styles =\n    variant === 'primary' ? 'bg-[#2CFF88] text-black hover:opacity-90' : 'bg-white/10 text-white hover:bg-white/15';\n  return (\n    <button type=\"button\" onClick={onClick} className={`${base} ${styles} ${className}`}>\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}