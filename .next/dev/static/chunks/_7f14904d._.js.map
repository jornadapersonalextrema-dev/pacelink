{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/lib/supabaseBrowser.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oMAAmB;AAI5B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/app/students/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { createClient } from '../../../lib/supabaseBrowser';\n\ntype StudentRow = {\n  id: string;\n  trainer_id: string;\n  name: string;\n  email: string | null;\n  p1k_sec_per_km: number | null;\n  public_slug: string | null;\n  created_at: string | null;\n};\n\ntype WeekRow = {\n  id: string;\n  student_id: string;\n  trainer_id: string;\n  week_start: string; // YYYY-MM-DD\n  week_end: string;   // YYYY-MM-DD\n  label: string | null;\n};\n\ntype WorkoutRow = {\n  id: string;\n  student_id: string;\n  trainer_id: string;\n  status: 'draft' | 'ready' | 'archived';\n  template_type: string;\n  title: string | null;\n  total_km: number | null;\n  created_at: string;\n  planned_date: string | null;\n  planned_day: number | null;\n  share_slug: string | null;\n  week_id: string | null;\n  locked_at: string | null;\n  closed_reason?: string | null;\n};\n\ntype ExecutionRow = {\n  id: string;\n  workout_id: string;\n  status: 'in_progress' | 'completed';\n  performed_at: string | null;\n  completed_at: string | null;\n  rpe: number | null;\n  comment: string | null;\n  last_event_at: string | null;\n  started_at: string | null;\n};\n\nconst TEMPLATE_LABEL: Record<string, string> = {\n  easy_run: 'Rodagem',\n  progressive: 'Progressivo',\n  alternated: 'Alternado',\n};\n\nfunction formatPace(secPerKm: number | null) {\n  if (!secPerKm || secPerKm <= 0) return '—';\n  const m = Math.floor(secPerKm / 60);\n  const s = secPerKm % 60;\n  return `${m}:${String(s).padStart(2, '0')}/km`;\n}\n\nfunction formatDateBRLoose(iso: string | null) {\n  if (!iso) return '—';\n  const d = new Date(iso);\n  if (Number.isNaN(d.getTime())) return iso;\n  return d.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });\n}\n\nfunction formatRangeBR(weekStartISO: string, weekEndISO: string) {\n  return `${formatDateBRLoose(weekStartISO)} – ${formatDateBRLoose(weekEndISO)}`;\n}\n\nfunction statusLabel(status: WorkoutRow['status'], closedReason?: string | null) {\n  if (status === 'draft') return 'Rascunho';\n  if (status === 'ready') return 'Disponível';\n  if (status === 'archived') {\n    if (closedReason === 'week_expired') return 'Encerrado (sem execução)';\n    return 'Encerrado';\n  }\n  return status;\n}\n\nfunction kmLabel(km: number | null) {\n  if (km == null) return '—';\n  return Number(km).toFixed(1).replace('.', ',');\n}\n\nfunction pad2(n: number) {\n  return String(n).padStart(2, '0');\n}\n\nfunction toISODate(d: Date) {\n  // YYYY-MM-DD in local time (avoid timezone shifting from toISOString)\n  const y = d.getFullYear();\n  const m = pad2(d.getMonth() + 1);\n  const day = pad2(d.getDate());\n  return `${y}-${m}-${day}`;\n}\n\nfunction startOfWeekMonday(date: Date) {\n  const d = new Date(date);\n  const day = d.getDay(); // 0 Sun ... 6 Sat\n  const diff = (day === 0 ? -6 : 1 - day); // Monday start\n  d.setDate(d.getDate() + diff);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\n\nfunction addDays(date: Date, days: number) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + days);\n  return d;\n}\n\nexport default function StudentProfilePage() {\n  const params = useParams();\n  const router = useRouter();\n  const supabase = useMemo(() => createClient(), []);\n\n  const studentId = String((params as any)?.id || '');\n  const [student, setStudent] = useState<StudentRow | null>(null);\n  const [studentSlug, setStudentSlug] = useState<string>('aluno');\n  const [weeks, setWeeks] = useState<WeekRow[]>([]);\n  const [selectedWeekId, setSelectedWeekId] = useState<string | null>(null);\n\n  const [workouts, setWorkouts] = useState<WorkoutRow[]>([]);\n  const [latestExecByWorkout, setLatestExecByWorkout] = useState<Record<string, ExecutionRow | null>>({});\n  const [loading, setLoading] = useState(true);\n  const [banner, setBanner] = useState<string | null>(null);\n\n  async function loadStudent() {\n    setLoading(true);\n    setBanner(null);\n\n    const { data: s, error } = await supabase\n      .from('students')\n      .select('id, trainer_id, name, email, p1k_sec_per_km, public_slug, created_at')\n      .eq('id', studentId)\n      .maybeSingle();\n\n    if (error) {\n      setBanner(error.message);\n      setLoading(false);\n      return;\n    }\n\n    if (!s) {\n      setBanner('Aluno não encontrado.');\n      setLoading(false);\n      return;\n    }\n\n    setStudent(s as StudentRow);\n    setStudentSlug(((s as any).public_slug as string) || 'aluno');\n\n    setLoading(false);\n  }\n\n  async function ensureUpcomingWeeks(s: StudentRow) {\n    // cria/garante semanas: semana atual + próximas 7 (ajuste se quiser mais)\n    const base = startOfWeekMonday(new Date());\n    const targets = Array.from({ length: 8 }).map((_, i) => {\n      const ws = addDays(base, i * 7);\n      const we = addDays(ws, 6);\n      return {\n        student_id: s.id,\n        trainer_id: s.trainer_id,\n        week_start: toISODate(ws),\n        week_end: toISODate(we),\n        label: `Semana ${formatRangeBR(toISODate(ws), toISODate(we))}`,\n      };\n    });\n\n    // upsert exige unique(student_id, week_start)\n    const up = await supabase.from('weeks').upsert(targets as any, { onConflict: 'student_id,week_start' });\n    if (up.error) {\n      // se a tabela ainda não existir, o app segue sem quebrar (mas a visão semanal não funciona)\n      setBanner(up.error.message);\n      return;\n    }\n\n    const { data: wk, error } = await supabase\n      .from('weeks')\n      .select('id, student_id, trainer_id, week_start, week_end, label')\n      .eq('student_id', s.id)\n      .order('week_start', { ascending: true });\n\n    if (error) {\n      setBanner(error.message);\n      return;\n    }\n\n    const list = (wk || []) as WeekRow[];\n    setWeeks(list);\n\n    const currentStartISO = toISODate(startOfWeekMonday(new Date()));\n    const current = list.find((w) => w.week_start === currentStartISO) || list[0] || null;\n    setSelectedWeekId(current?.id || null);\n  }\n\n  async function loadWorkoutsForWeek(weekId: string | null) {\n    if (!weekId) {\n      setWorkouts([]);\n      setLatestExecByWorkout({});\n      return;\n    }\n\n    // Treinos da semana selecionada\n    const { data: ws, error } = await supabase\n      .from('workouts')\n      .select(\n        'id, student_id, trainer_id, status, template_type, title, total_km, created_at, planned_date, planned_day, share_slug, week_id, locked_at, closed_reason'\n      )\n      .eq('student_id', studentId)\n      .eq('week_id', weekId)\n      .order('planned_day', { ascending: true, nullsFirst: false })\n      .order('created_at', { ascending: false })\n      .limit(200);\n\n    if (error) {\n      setBanner(error.message);\n      return;\n    }\n\n    const list = (ws || []) as WorkoutRow[];\n    setWorkouts(list);\n\n    if (list.length === 0) {\n      setLatestExecByWorkout({});\n      return;\n    }\n\n    const workoutIds = list.map((w) => w.id);\n    const { data: execs, error: execErr } = await supabase\n      .from('executions')\n      .select('id, workout_id, status, performed_at, completed_at, rpe, comment, last_event_at, started_at')\n      .in('workout_id', workoutIds);\n\n    if (execErr) {\n      // não bloqueia a tela, só perde o \"progresso\"\n      setLatestExecByWorkout({});\n      return;\n    }\n\n    const byWorkout: Record<string, ExecutionRow | null> = {};\n    for (const wid of workoutIds) byWorkout[wid] = null;\n\n    // pega a mais recente por last_event_at/started_at/completed_at\n    for (const e of (execs || []) as any[]) {\n      const cur = byWorkout[e.workout_id];\n      const curKey = cur?.last_event_at || cur?.completed_at || cur?.started_at || '';\n      const nextKey = e.last_event_at || e.completed_at || e.started_at || '';\n      if (!cur || (nextKey && nextKey > curKey)) {\n        byWorkout[e.workout_id] = e as ExecutionRow;\n      }\n    }\n\n    setLatestExecByWorkout(byWorkout);\n  }\n\n  async function copyWorkoutLink(workoutId: string) {\n    setBanner(null);\n\n    // Trigger gera share_slug ao mudar status para ready (no banco)\n    const { data, error } = await supabase\n      .from('workouts')\n      .update({ status: 'ready' })\n      .eq('id', workoutId)\n      .select('id, share_slug')\n      .maybeSingle();\n\n    if (error) {\n      setBanner(error.message);\n      return;\n    }\n\n    const slug = (data as any)?.share_slug as string | null;\n    if (!slug) {\n      setBanner('Não foi possível gerar o link (share_slug).');\n      return;\n    }\n\n    const url = `${window.location.origin}/w/${studentSlug}/${slug}`;\n    await navigator.clipboard.writeText(url);\n\n    setBanner('Link do treino copiado para a área de transferência.');\n    // atualiza local\n    setWorkouts((prev) => prev.map((w) => (w.id === workoutId ? ({ ...w, status: 'ready', share_slug: slug } as any) : w)));\n  }\n\n  function openWorkoutAsAluno(workout: WorkoutRow) {\n    const slug = workout.share_slug;\n    if (!slug) {\n      setBanner('Treino sem link (share_slug). Use \"Gerar/Copiar link\".');\n      return;\n    }\n    router.push(`/w/${studentSlug}/${slug}`);\n  }\n\n  // Load student\n  useEffect(() => {\n    if (!studentId) return;\n    loadStudent();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [studentId]);\n\n  // Ensure weeks after student loaded\n  useEffect(() => {\n    if (!student) return;\n    ensureUpcomingWeeks(student);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [student?.id]);\n\n  // Load workouts when week changes\n  useEffect(() => {\n    loadWorkoutsForWeek(selectedWeekId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedWeekId]);\n\n  const selectedWeek = weeks.find((w) => w.id === selectedWeekId) || null;\n\n  const header = (\n    <div className=\"flex items-start justify-between gap-3\">\n      <div className=\"min-w-0\">\n        <div className=\"text-sm text-slate-600 dark:text-slate-300\">Aluno</div>\n        <div className=\"text-xl font-semibold truncate\">{student?.name ?? '—'}</div>\n        <div className=\"text-sm text-slate-600 dark:text-slate-300 mt-1\">\n          Ritmo P1k: <span className=\"font-semibold\">{formatPace(student?.p1k_sec_per_km ?? null)}</span>\n          {student?.email ? <> · {student.email}</> : null}\n        </div>\n        <div className=\"text-xs text-slate-500 dark:text-slate-400 mt-1\">\n          Links do aluno: <span className=\"font-mono\">/aluno</span> (login) ·{' '}\n          <span className=\"font-mono\">/w/{studentSlug}/&lt;treino&gt;</span>\n        </div>\n      </div>\n\n      <div className=\"shrink-0 flex flex-col items-end gap-2\">\n        <button\n          className=\"px-3 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold disabled:opacity-50\"\n          disabled={!selectedWeekId}\n          onClick={() => router.push(`/students/${studentId}/workouts/new?weekId=${selectedWeekId}`)}\n        >\n          + Programar treino\n        </button>\n        <button className=\"text-sm underline text-slate-600 dark:text-slate-300\" onClick={() => router.push('/students')}>\n          Voltar\n        </button>\n      </div>\n    </div>\n  );\n\n  return (\n    <main className=\"min-h-screen bg-slate-50 dark:bg-slate-950 p-4\">\n      <div className=\"mx-auto max-w-3xl space-y-4\">\n        <div className=\"rounded-2xl bg-white dark:bg-surface-dark shadow p-4\">{header}</div>\n\n        {banner && (\n          <div className=\"rounded-xl bg-amber-50 dark:bg-amber-900/20 p-3 text-sm text-amber-800 dark:text-amber-200\">\n            {banner}\n          </div>\n        )}\n\n        {loading ? (\n          <div className=\"text-sm text-slate-600 dark:text-slate-300\">Carregando…</div>\n        ) : (\n          <>\n            {/* Seletor de semanas */}\n            <div className=\"rounded-2xl bg-white dark:bg-surface-dark shadow p-4\">\n              <div className=\"flex items-center justify-between gap-3\">\n                <div>\n                  <div className=\"font-semibold\">Planejamento por semana</div>\n                  <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                    {selectedWeek ? selectedWeek.label || formatRangeBR(selectedWeek.week_start, selectedWeek.week_end) : '—'}\n                  </div>\n                </div>\n              </div>\n\n              {weeks.length === 0 ? (\n                <div className=\"mt-3 text-sm text-slate-600 dark:text-slate-300\">\n                  Semanas ainda não carregadas. Verifique se a tabela <span className=\"font-mono\">weeks</span> existe no Supabase.\n                </div>\n              ) : (\n                <div className=\"mt-3 flex gap-2 overflow-x-auto no-scrollbar\">\n                  {weeks.map((w) => {\n                    const active = w.id === selectedWeekId;\n                    return (\n                      <button\n                        key={w.id}\n                        onClick={() => setSelectedWeekId(w.id)}\n                        className={\n                          'px-3 py-2 rounded-full text-sm font-semibold whitespace-nowrap border ' +\n                          (active\n                            ? 'bg-primary text-slate-900 border-transparent'\n                            : 'bg-white dark:bg-surface-dark border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200')\n                        }\n                      >\n                        {formatRangeBR(w.week_start, w.week_end)}\n                      </button>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n\n            {/* Lista de treinos da semana */}\n            <div className=\"rounded-2xl bg-white dark:bg-surface-dark shadow p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h2 className=\"font-semibold\">Treinos da semana</h2>\n                <div className=\"text-xs text-slate-500 dark:text-slate-400\">Mostrando até 200</div>\n              </div>\n\n              {workouts.length === 0 ? (\n                <div className=\"text-sm text-slate-600 dark:text-slate-300\">\n                  Nenhum treino programado para esta semana ainda.\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {workouts.map((w) => {\n                    const latestExec = latestExecByWorkout[w.id];\n                    const progress =\n                      latestExec?.status === 'completed'\n                        ? `Concluído${latestExec.performed_at ? ` (${formatDateBRLoose(latestExec.performed_at)})` : ''}`\n                        : latestExec?.status === 'in_progress'\n                          ? 'Em andamento'\n                          : '—';\n\n                    const locked = !!w.locked_at || !!latestExec;\n                    const plannedLabel = w.planned_day ? `Ordem ${w.planned_day}` : (w.planned_date ? formatDateBRLoose(w.planned_date) : formatDateBRLoose(w.created_at));\n\n                    return (\n                      <div key={w.id} className=\"rounded-xl border border-slate-200 dark:border-slate-700 p-3 flex flex-col gap-2\">\n                        <div className=\"flex items-start justify-between gap-3\">\n                          <div className=\"min-w-0\">\n                            <div className=\"text-sm text-slate-600 dark:text-slate-300\">\n                              {plannedLabel} · {statusLabel(w.status, (w as any).closed_reason)} · {TEMPLATE_LABEL[w.template_type] ?? w.template_type} ·{' '}\n                              {kmLabel(w.total_km)} km\n                            </div>\n                            <div className=\"font-medium truncate\">{w.title || TEMPLATE_LABEL[w.template_type] || 'Treino'}</div>\n\n                            <div className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n                              Execução do aluno: <span className=\"font-semibold\">{progress}</span>\n                              {locked ? ' · Edição bloqueada após início' : ''}\n                            </div>\n                          </div>\n\n                          <div className=\"shrink-0 flex flex-wrap gap-2 justify-end\">\n                            <button\n                              className=\"px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 text-sm font-semibold disabled:opacity-50\"\n                              disabled={locked}\n                              onClick={() => router.push(`/workouts/${w.id}/edit`)}\n                            >\n                              Editar\n                            </button>\n\n                            <button\n                              className=\"px-3 py-2 rounded-lg bg-primary text-slate-900 text-sm font-semibold disabled:opacity-50\"\n                              disabled={w.status === 'archived'}\n                              onClick={() => copyWorkoutLink(w.id)}\n                            >\n                              Gerar/Copiar link\n                            </button>\n\n                            <button\n                              className=\"px-3 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold disabled:opacity-50\"\n                              disabled={!w.share_slug}\n                              onClick={() => openWorkoutAsAluno(w)}\n                            >\n                              Ver como aluno\n                            </button>\n                          </div>\n                        </div>\n\n                        {w.share_slug ? (\n                          <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                            Link: <span className=\"font-mono\">/w/{studentSlug}/{w.share_slug}</span>\n                          </div>\n                        ) : (\n                          <div className=\"text-xs text-slate-500 dark:text-slate-400\">Link ainda não gerado (share_slug vazio).</div>\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}