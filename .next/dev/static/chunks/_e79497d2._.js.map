{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/lib/supabaseBrowser.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n    return createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAIQ;AAJR;AAAA;;AAEO,SAAS;IACZ,OAAO,IAAA,oMAAmB;AAI9B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Topbar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface TopbarProps {\n  title: string;\n  showBack?: boolean;\n  rightAction?: React.ReactNode;\n}\n\nexport const Topbar: React.FC<TopbarProps> = ({ title, showBack = false, rightAction }) => {\n  const router = useRouter();\n\n  return (\n    <header className=\"sticky top-0 z-50 flex items-center justify-between px-4 py-4 bg-white/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-black/5 dark:border-white/5 h-16\">\n      <div className=\"flex items-center min-w-[40px]\">\n        {showBack && (\n          <button\n            onClick={() => router.back()}\n            className=\"p-2 -ml-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-slate-900 dark:text-white transition-colors\"\n          >\n            <span className=\"material-symbols-outlined\">arrow_back_ios_new</span>\n          </button>\n        )}\n      </div>\n\n      <h1 className=\"text-lg font-bold tracking-tight text-center flex-1 truncate px-2\">\n        {title}\n      </h1>\n\n      <div className=\"flex items-center justify-end min-w-[40px]\">{rightAction}</div>\n    </header>\n  );\n};\n\nexport default Topbar;\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA;;AAWO,MAAM,SAAgC,CAAC,EAAE,KAAK,EAAE,WAAW,KAAK,EAAE,WAAW,EAAE;;IACpF,MAAM,SAAS,IAAA,kJAAS;IAExB,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;0BACZ,0BACC,6LAAC;oBACC,SAAS,IAAM,OAAO,IAAI;oBAC1B,WAAU;8BAEV,cAAA,6LAAC;wBAAK,WAAU;kCAA4B;;;;;;;;;;;;;;;;0BAKlD,6LAAC;gBAAG,WAAU;0BACX;;;;;;0BAGH,6LAAC;gBAAI,WAAU;0BAA8C;;;;;;;;;;;;AAGnE;GAvBa;;QACI,kJAAS;;;KADb;uCAyBE"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Button.tsx"],"sourcesContent":["\n'use client';\n\nimport React from 'react';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  icon?: string;\n  fullWidth?: boolean;\n}\n\nexport const Button: React.FC<ButtonProps> = ({ \n  children, \n  variant = 'primary', \n  size = 'lg', \n  icon, \n  fullWidth = true,\n  className = '',\n  ...props \n}) => {\n  const baseStyles = \"flex items-center justify-center gap-2 rounded-full font-bold transition-all active:scale-[0.98]\";\n  \n  const variants = {\n    primary: \"bg-primary text-background-dark shadow-lg shadow-primary/25 hover:bg-[#25c464]\",\n    secondary: \"bg-white dark:bg-surface-dark border border-slate-200 dark:border-white/10 text-slate-900 dark:text-white\",\n    ghost: \"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-black/5 dark:hover:bg-white/5\",\n    danger: \"bg-red-500 text-white shadow-lg shadow-red-500/20\"\n  };\n\n  const sizes = {\n    sm: \"h-9 px-4 text-xs\",\n    md: \"h-11 px-6 text-sm\",\n    lg: \"h-14 px-8 text-lg\",\n    xl: \"h-16 px-10 text-xl\"\n  };\n\n  const widthClass = fullWidth ? 'w-full' : '';\n\n  return (\n    <button \n      className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${widthClass} ${className}`}\n      {...props}\n    >\n      {icon && <span className=\"material-symbols-outlined\">{icon}</span>}\n      {children}\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;;AAWO,MAAM,SAAgC,CAAC,EAC5C,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,IAAI,EACJ,YAAY,IAAI,EAChB,YAAY,EAAE,EACd,GAAG,OACJ;IACC,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,OAAO;QACP,QAAQ;IACV;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,aAAa,YAAY,WAAW;IAE1C,qBACE,6LAAC;QACC,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,WAAW;QACxF,GAAG,KAAK;;YAER,sBAAQ,6LAAC;gBAAK,WAAU;0BAA6B;;;;;;YACrD;;;;;;;AAGP;KApCa"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Card.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport const Card: React.FC<CardProps> = ({ children, className = '', onClick }) => {\n  return (\n    <div \n      onClick={onClick}\n      className={`bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-white/5 p-4 shadow-sm transition-all ${onClick ? 'cursor-pointer hover:border-primary/50 active:scale-[0.99]' : ''} ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AASO,MAAM,OAA4B,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE;IAC7E,qBACE,6LAAC;QACC,SAAS;QACT,WAAW,CAAC,mHAAmH,EAAE,UAAU,+DAA+D,GAAG,CAAC,EAAE,WAAW;kBAE1N;;;;;;AAGP;KATa"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Input.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ntype InputProps = React.InputHTMLAttributes<HTMLInputElement> & {\r\n  label?: string;\r\n  rightAddon?: React.ReactNode;\r\n};\r\n\r\nexport default function Input({ label, rightAddon, className = '', ...props }: InputProps) {\r\n  return (\r\n    <label className=\"block w-full\">\r\n      {label ? (\r\n        <div className=\"mb-2 text-sm font-semibold text-white/80\">{label}</div>\r\n      ) : null}\r\n\r\n      <div className=\"flex items-center gap-2 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 focus-within:ring-2 focus-within:ring-[#30e87a]/40\">\r\n        <input\r\n          {...props}\r\n          className={[\r\n            'w-full bg-transparent outline-none text-white placeholder:text-white/40',\r\n            className,\r\n          ].join(' ')}\r\n        />\r\n        {rightAddon}\r\n      </div>\r\n    </label>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AASe,SAAS,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,GAAG,OAAmB;IACvF,qBACE,6LAAC;QAAM,WAAU;;YACd,sBACC,6LAAC;gBAAI,WAAU;0BAA4C;;;;;uBACzD;0BAEJ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACE,GAAG,KAAK;wBACT,WAAW;4BACT;4BACA;yBACD,CAAC,IAAI,CAAC;;;;;;oBAER;;;;;;;;;;;;;AAIT;KAnBwB"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Toggle.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ntype ToggleProps = {\r\n  checked: boolean;\r\n  onChange: (checked: boolean) => void;\r\n  disabled?: boolean;\r\n};\r\n\r\nexport default function Toggle({ checked, onChange, disabled = false }: ToggleProps) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      disabled={disabled}\r\n      onClick={() => !disabled && onChange(!checked)}\r\n      aria-pressed={checked}\r\n      className={[\r\n        'relative inline-flex h-7 w-12 items-center rounded-full transition-colors',\r\n        checked ? 'bg-[#30e87a]' : 'bg-white/10',\r\n        disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer',\r\n      ].join(' ')}\r\n    >\r\n      <span\r\n        className={[\r\n          'inline-block h-5 w-5 transform rounded-full bg-white transition-transform',\r\n          checked ? 'translate-x-6' : 'translate-x-1',\r\n        ].join(' ')}\r\n      />\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAUe,SAAS,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,KAAK,EAAe;IACjF,qBACE,6LAAC;QACC,MAAK;QACL,UAAU;QACV,SAAS,IAAM,CAAC,YAAY,SAAS,CAAC;QACtC,gBAAc;QACd,WAAW;YACT;YACA,UAAU,iBAAiB;YAC3B,WAAW,kCAAkC;SAC9C,CAAC,IAAI,CAAC;kBAEP,cAAA,6LAAC;YACC,WAAW;gBACT;gBACA,UAAU,kBAAkB;aAC7B,CAAC,IAAI,CAAC;;;;;;;;;;;AAIf;KArBwB"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/components/Icon.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ntype IconProps = {\r\n  name: string;\r\n  className?: string;\r\n  filled?: boolean;\r\n};\r\n\r\nexport default function Icon({ name, className = '', filled = false }: IconProps) {\r\n  return (\r\n    <span\r\n      className={`material-symbols-outlined ${className}`}\r\n      style={{\r\n        fontVariationSettings: `'FILL' ${filled ? 1 : 0}`,\r\n      }}\r\n      aria-hidden=\"true\"\r\n    >\r\n      {name}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAUe,SAAS,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,EAAE,SAAS,KAAK,EAAa;IAC9E,qBACE,6LAAC;QACC,WAAW,CAAC,0BAA0B,EAAE,WAAW;QACnD,OAAO;YACL,uBAAuB,CAAC,OAAO,EAAE,SAAS,IAAI,GAAG;QACnD;QACA,eAAY;kBAEX;;;;;;AAGP;KAZwB"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lacos/Downloads/pacelink/app/students/%5Bid%5D/workouts/new/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { createClient } from '../../../../../lib/supabaseBrowser';\nimport { Topbar } from '../../../../../components/Topbar';\nimport { Button } from '../../../../../components/Button';\nimport { Card } from '../../../../../components/Card';\nimport Input from '../../../../../components/Input';\nimport Toggle from '../../../../../components/Toggle';\nimport Icon from '../../../../../components/Icon';\n\n// -------------------------------\n// Helpers\n// -------------------------------\nfunction clampNumber(value: number, min: number, max: number) {\n  if (!Number.isFinite(value)) return min;\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction parsePtNumber(value: string): number {\n  const normalized = (value ?? '').toString().replace(',', '.');\n  return Number(normalized);\n}\n\nfunction formatPaceFromSeconds(sec?: number | null) {\n  if (!sec || sec <= 0) return '—';\n  const m = Math.floor(sec / 60);\n  const s = sec % 60;\n  return `${m}:${String(s).padStart(2, '0')}`;\n}\n\ntype TemplateType = 'rodagem' | 'progressivo' | 'alternado';\ntype Intensity = 'leve' | 'moderado' | 'forte';\n\ntype Student = {\n  id: string;\n  trainer_id: string;\n  name: string;\n  email: string | null;\n  p1k_sec_per_km: number | null;\n};\n\ntype Phase = {\n  distanceKm: number;\n  intensity: Intensity;\n};\n\ntype AlternadoBlock = {\n  distanceKm: number;\n  intensity: Intensity;\n};\n\nexport default function NewWorkoutPage() {\n  const router = useRouter();\n  const params = useParams();\n  const studentId = (params?.id as string) ?? '';\n\n  const supabase = useMemo(() => createClient(), []);\n\n  const [loadingStudent, setLoadingStudent] = useState(true);\n  const [student, setStudent] = useState<Student | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // Editor state\n  const [title, setTitle] = useState(''); // não preenche automaticamente\n  const [templateType, setTemplateType] = useState<TemplateType>('rodagem');\n\n  const [includeWarmup, setIncludeWarmup] = useState(true);\n  const [warmupKm, setWarmupKm] = useState(2.0);\n\n  const [includeCooldown, setIncludeCooldown] = useState(true);\n  const [cooldownKm, setCooldownKm] = useState(1.0);\n\n  // Rodagem\n  const [rodagemDistanceKm, setRodagemDistanceKm] = useState(5.0);\n  const [rodagemIntensity, setRodagemIntensity] = useState<Intensity>('leve');\n\n  // Progressivo\n  const [phases, setPhases] = useState<Phase[]>([\n    { distanceKm: 2.0, intensity: 'leve' },\n    { distanceKm: 2.0, intensity: 'moderado' },\n    { distanceKm: 1.0, intensity: 'forte' },\n  ]);\n\n  // Alternado\n  const [altReps, setAltReps] = useState(6);\n  const [altStrong, setAltStrong] = useState<AlternadoBlock>({ distanceKm: 1.0, intensity: 'forte' });\n  const [altEasy, setAltEasy] = useState<AlternadoBlock>({ distanceKm: 1.0, intensity: 'leve' });\n\n  const [notes, setNotes] = useState('');\n  const [saving, setSaving] = useState(false);\n\n  const [workoutId, setWorkoutId] = useState<string | null>(null);\n\n  async function ensureAuth() {\n    const { data } = await supabase.auth.getUser();\n    if (!data?.user) {\n      router.push('/login');\n      throw new Error('Sessão expirada. Faça login novamente.');\n    }\n    return data.user;\n  }\n\n  /**\n   * ✅ FIX PRINCIPAL:\n   * Evita `.single()`/`.maybeSingle()` aqui para não disparar 406/“Cannot coerce…”\n   * Usamos `.limit(1)` e pegamos `data[0]`.\n   */\n  useEffect(() => {\n    let isMounted = true;\n\n    async function loadStudent() {\n      try {\n        setLoadingStudent(true);\n        setError(null);\n\n        const user = await ensureAuth();\n\n        const { data: rows, error: dbErr } = await supabase\n          .from('students')\n          .select('id, trainer_id, name, email, p1k_sec_per_km')\n          .eq('id', studentId)\n          .eq('trainer_id', user.id)\n          .limit(1);\n\n        if (dbErr) throw dbErr;\n\n        const row = rows?.[0] ?? null;\n        if (!row) throw new Error('Aluno não encontrado (ou você não tem permissão para acessá-lo).');\n\n        if (isMounted) {\n          setStudent({\n            id: row.id,\n            trainer_id: row.trainer_id,\n            name: row.name,\n            email: row.email ?? null,\n            p1k_sec_per_km: row.p1k_sec_per_km ?? null,\n          });\n        }\n      } catch (err: any) {\n        console.error('Erro ao carregar aluno:', err);\n        if (isMounted) setError(err?.message || 'Erro ao carregar aluno.');\n      } finally {\n        if (isMounted) setLoadingStudent(false);\n      }\n    }\n\n    if (studentId) loadStudent();\n    return () => {\n      isMounted = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [studentId]);\n\n  const computed = useMemo(() => {\n    const warm = includeWarmup ? clampNumber(warmupKm, 0.5, 30) : 0;\n    const cool = includeCooldown ? clampNumber(cooldownKm, 0.5, 30) : 0;\n\n    let blocks: any[] = [];\n    let totalKm = warm + cool;\n\n    if (templateType === 'rodagem') {\n      const mainKm = clampNumber(rodagemDistanceKm, 0.5, 60);\n      blocks = [{ distance_km: mainKm, intensity: rodagemIntensity, label: 'Bloco principal' }];\n      totalKm += mainKm;\n    }\n\n    if (templateType === 'progressivo') {\n      const ph = phases.map((p) => ({\n        distance_km: clampNumber(p.distanceKm, 0.5, 60),\n        intensity: p.intensity,\n      }));\n      blocks = ph;\n      totalKm += ph.reduce((acc, b) => acc + Number(b.distance_km), 0);\n    }\n\n    if (templateType === 'alternado') {\n      const reps = clampNumber(altReps, 1, 40);\n      const strongKm = clampNumber(altStrong.distanceKm, 0.1, 10);\n      const easyKm = clampNumber(altEasy.distanceKm, 0.1, 10);\n\n      blocks = Array.from({ length: reps }).flatMap(() => [\n        { distance_km: strongKm, intensity: altStrong.intensity, role: 'trabalho' },\n        { distance_km: easyKm, intensity: altEasy.intensity, role: 'recuperacao' },\n      ]);\n\n      totalKm += reps * (strongKm + easyKm);\n    }\n\n    return {\n      warmup_km: warm,\n      cooldown_km: cool,\n      total_km: totalKm,\n      blocks,\n    };\n  }, [\n    includeWarmup,\n    warmupKm,\n    includeCooldown,\n    cooldownKm,\n    templateType,\n    rodagemDistanceKm,\n    rodagemIntensity,\n    phases,\n    altReps,\n    altStrong,\n    altEasy,\n  ]);\n\n  async function upsertWorkout(status: 'draft' | 'published') {\n    try {\n      setSaving(true);\n      setError(null);\n\n      const user = await ensureAuth();\n      if (!student) throw new Error('Aluno não carregado.');\n\n      const payload: any = {\n        student_id: student.id,\n        trainer_id: user.id,\n        status,\n        template_type: templateType,\n        include_warmup: includeWarmup,\n        warmup_km: computed.warmup_km,\n        include_cooldown: includeCooldown,\n        cooldown_km: computed.cooldown_km,\n        template_params: {\n          title: title?.trim() || null,\n          notes: notes?.trim() || null,\n        },\n        blocks: computed.blocks,\n        total_km: computed.total_km,\n      };\n\n      if (workoutId) {\n        const { data, error: dbErr } = await supabase\n          .from('workouts')\n          .update(payload)\n          .eq('id', workoutId)\n          .select('id, share_slug')\n          .maybeSingle();\n\n        if (dbErr) throw dbErr;\n        if (!data) throw new Error('Não foi possível atualizar o treino (verifique permissões/RLS).');\n\n        return data;\n      } else {\n        const { data, error: dbErr } = await supabase\n          .from('workouts')\n          .insert(payload)\n          .select('id, share_slug')\n          .single();\n\n        if (dbErr) throw dbErr;\n\n        setWorkoutId(data.id);\n        return data;\n      }\n    } catch (err: any) {\n      console.error('Erro ao salvar treino:', err);\n      setError(err?.message || 'Erro ao salvar treino.');\n      throw err;\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleSaveDraft() {\n    await upsertWorkout('draft');\n  }\n\n  async function handleShare() {\n    const w: any = await upsertWorkout('published');\n    const url = `${window.location.origin}/w/${w.share_slug}`;\n\n    // Melhor fallback para mobile\n    try {\n      if ((navigator as any).share) {\n        await (navigator as any).share({ title: 'PaceLink', text: 'Treino', url });\n        return;\n      }\n    } catch (_) {\n      // se usuário cancelar share, cai no fallback abaixo\n    }\n\n    try {\n      await navigator.clipboard.writeText(url);\n      alert('Link copiado! Cole no WhatsApp para enviar ao aluno.');\n    } catch (_) {\n      window.prompt('Copie o link do treino:', url);\n    }\n  }\n\n  const pillClass = (active: boolean) =>\n    `px-4 py-2 rounded-full text-sm font-semibold transition ${\n      active\n        ? 'bg-primary text-slate-900 shadow-lg shadow-primary/20'\n        : 'bg-white/10 text-white/70 hover:bg-white/15'\n    }`;\n\n  return (\n    <div className=\"flex-1 flex flex-col bg-background-light dark:bg-background-dark\">\n      <Topbar title=\"Criar Treino\" backHref={`/students/${studentId}`} />\n\n      <main className=\"flex-1 p-4 space-y-4\">\n        {error && (\n          <div className=\"rounded-xl bg-red-900/40 border border-red-700/40 p-3 text-red-200 text-sm\">\n            {error}\n          </div>\n        )}\n\n        <Card>\n          <div className=\"text-xs tracking-wider text-white/60\">ALUNO</div>\n          <div className=\"text-lg font-bold\">{loadingStudent ? 'Carregando...' : student?.name || '—'}</div>\n          <div className=\"text-sm text-white/70\">\n            Ritmo P1K: {formatPaceFromSeconds(student?.p1k_sec_per_km)} min/km\n          </div>\n        </Card>\n\n        <Card>\n          <div className=\"text-base font-bold\">Título do treino</div>\n          <Input\n            value={title}\n            onChange={(e: any) => setTitle(e.target.value)}\n            placeholder=\"Ex.: Rodagem leve\"\n          />\n          <div className=\"text-sm text-white/60 mt-2\">\n            Distância total estimada: {computed.total_km.toFixed(1)} km\n          </div>\n        </Card>\n\n        <Card>\n          <div className=\"text-base font-bold\">Tipo de Treino</div>\n          <div className=\"mt-3 flex gap-2 flex-wrap\">\n            <button onClick={() => setTemplateType('rodagem')} className={pillClass(templateType === 'rodagem')}>\n              Rodagem\n            </button>\n            <button onClick={() => setTemplateType('progressivo')} className={pillClass(templateType === 'progressivo')}>\n              Progressivo\n            </button>\n            <button onClick={() => setTemplateType('alternado')} className={pillClass(templateType === 'alternado')}>\n              Alternado\n            </button>\n          </div>\n        </Card>\n\n        <Card>\n          <div className=\"text-base font-bold\">Estrutura</div>\n\n          <div className=\"mt-4 flex items-center justify-between\">\n            <div className=\"font-semibold\">Aquecimento</div>\n            <Toggle checked={includeWarmup} onChange={setIncludeWarmup} />\n          </div>\n\n          {includeWarmup && (\n            <div className=\"mt-3 grid grid-cols-3 gap-2 items-end\">\n              <div className=\"col-span-2\">\n                <div className=\"text-xs text-white/60\">DISTÂNCIA</div>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={String(warmupKm)}\n                  onChange={(e: any) => setWarmupKm(parsePtNumber(e.target.value))}\n                />\n              </div>\n              <div className=\"text-sm text-white/70 pb-2\">km</div>\n            </div>\n          )}\n\n          <div className=\"mt-6 flex items-center justify-between\">\n            <div className=\"font-semibold\">Desaquecimento</div>\n            <Toggle checked={includeCooldown} onChange={setIncludeCooldown} />\n          </div>\n\n          {includeCooldown && (\n            <div className=\"mt-3 grid grid-cols-3 gap-2 items-end\">\n              <div className=\"col-span-2\">\n                <div className=\"text-xs text-white/60\">DISTÂNCIA</div>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={String(cooldownKm)}\n                  onChange={(e: any) => setCooldownKm(parsePtNumber(e.target.value))}\n                />\n              </div>\n              <div className=\"text-sm text-white/70 pb-2\">km</div>\n            </div>\n          )}\n        </Card>\n\n        {templateType === 'rodagem' && (\n          <Card>\n            <div className=\"text-base font-bold\">Bloco principal</div>\n            <div className=\"mt-3 grid grid-cols-3 gap-2 items-end\">\n              <div className=\"col-span-2\">\n                <div className=\"text-xs text-white/60\">DISTÂNCIA</div>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={String(rodagemDistanceKm)}\n                  onChange={(e: any) => setRodagemDistanceKm(parsePtNumber(e.target.value))}\n                />\n              </div>\n              <div className=\"text-sm text-white/70 pb-2\">km</div>\n            </div>\n\n            <div className=\"mt-4 text-xs text-white/60\">INTENSIDADE</div>\n            <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n              <button\n                onClick={() => setRodagemIntensity('leve')}\n                className={pillClass(rodagemIntensity === 'leve') + ' flex-1 min-w-[96px] justify-center'}\n              >\n                Leve\n              </button>\n              <button\n                onClick={() => setRodagemIntensity('moderado')}\n                className={pillClass(rodagemIntensity === 'moderado') + ' flex-1 min-w-[96px] justify-center'}\n              >\n                Moderado\n              </button>\n              <button\n                onClick={() => setRodagemIntensity('forte')}\n                className={pillClass(rodagemIntensity === 'forte') + ' flex-1 min-w-[96px] justify-center'}\n              >\n                Forte\n              </button>\n            </div>\n          </Card>\n        )}\n\n        <Card>\n          <div className=\"text-base font-bold\">Observações (opcional)</div>\n          <Input\n            value={notes}\n            onChange={(e: any) => setNotes(e.target.value)}\n            placeholder=\"Ex.: Terreno plano, foco em controlar respiração\"\n          />\n        </Card>\n      </main>\n\n      <div className=\"p-4 grid grid-cols-2 gap-3 bg-background-dark/70 backdrop-blur sticky bottom-0\">\n        <Button variant=\"secondary\" onClick={handleSaveDraft} disabled={saving}>\n          Salvar Rascunho\n        </Button>\n        <Button onClick={handleShare} disabled={saving}>\n          <Icon name=\"share\" className=\"mr-2\" />\n          Compartilhar\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}